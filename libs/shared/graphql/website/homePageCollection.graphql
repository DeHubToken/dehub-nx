fragment BasicPost on BasicPost {
  sys {
    ...Sys
  }
  title
  mainPicture {
    title
    url
  }
  summary
  # 	description {
  # 		json
  # 	}
  slug
}

fragment IconTile on IconTile {
  sys {
    ...Sys
  }
  icon
  title
  description
}

fragment FaqGroup on FaqGroup {
  sys {
    ...Sys
  }
  name
  faqItemCollection(limit: 50, preview: $isPreview) {
    items {
      ...FaqItem
    }
  }
}

fragment FaqItem on FaqItem {
  sys {
    ...Sys
  }
  question
  answer
}

fragment PageSectionBasicPosts on PageSectionBasicPosts {
  __typename
  sys {
    ...Sys
  }
  title
  handpickedPostsCollection(limit: 5, preview: $isPreview) {
    items {
      ...BasicPost
    }
  }
  postsByCategory {
    linkedFrom {
      basicPostCollection(limit: 20, preview: $isPreview) {
        items {
          ...BasicPost
        }
      }
    }
  }
}

fragment PageSectionIconTiles on PageSectionIconTiles {
  __typename
  sys {
    ...Sys
  }
  title
  handpickedIconTilesCollection(limit: 5, preview: $isPreview) {
    items {
      ...IconTile
    }
  }
}

fragment PageSectionFaQs on PageSectionFaQs {
  __typename
  sys {
    ...Sys
  }
  title
  handpickedFaqGroupsCollection(limit: 5, preview: $isPreview) {
    items {
      ...FaqGroup
    }
  }
}

fragment PageHome on PageHome {
  sys {
    id
  }
  mainTitle
  subtitle
  sectionsCollection(limit: 10, preview: $isPreview) {
    items {
      ...PageSectionBasicPosts
      ...PageSectionIconTiles
      ...PageSectionFaQs
    }
  }
}

query pageHomeCollection($isPreview: Boolean = false) {
  pageHomeCollection(limit: 2, preview: $isPreview) {
    items {
      ...PageHome
    }
  }
}
